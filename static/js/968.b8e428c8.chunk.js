"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[968],{6306:(s,t,e)=>{e.r(t),e.d(t,{default:()=>y});var o=e(9060);const a="Profile_profile__Vbhrb",r={profileInfo:"ProfileInfo_profileInfo__XhfeK",ProfileStatusBtn:"ProfileInfo_ProfileStatusBtn__WAajg",info:"ProfileInfo_info__Y5sGf"};var i=e(9048),n=e(12),l=e(2496);const u=s=>{const[t,e]=(0,o.useState)(!1),[a,i]=(0,o.useState)(s.status);(0,o.useEffect)((()=>{i(s.status)}),[s.status]);return(0,l.jsxs)("div",{children:[!t&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{className:r.ProfileStatusBtn,onDoubleClick:()=>{e(!0)},children:s.status||"----"})}),t&&(0,l.jsx)("form",{children:(0,l.jsx)("input",{onChange:s=>{i(s.currentTarget.value)},onBlur:()=>{e(!1),s.updateStatus(a)},autoFocus:!0,value:a})})]})},p=s=>{let{profile:t,status:e,updateStatus:o}=s;return t?(0,l.jsxs)("div",{className:r.profileInfo,children:[(0,l.jsx)("img",{src:t.photos.large,alt:t.fullName}),(0,l.jsxs)("div",{className:r.profileWrapper,children:[(0,l.jsxs)("div",{className:r.info,children:[(0,l.jsx)("h2",{children:t.fullName}),(0,l.jsx)(n.Af,{to:t.contacts.github,children:t.contacts.github})]}),(0,l.jsx)(u,{status:e,updateStatus:o})]})]}):(0,l.jsx)(i.c,{})},d={myPosts:"MyPosts_myPosts__p8uL5",form:"MyPosts_form__7JVQL",btn:"MyPosts_btn__s3auT"},c="Post_item__1U9Th",f=e.p+"static/media/my-photo.621b32dec7fe2c0ea05c.avif",h=s=>(0,l.jsxs)("div",{className:c,children:[(0,l.jsx)("img",{src:f,alt:""}),s.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"like"}),s.likeCount]})]});var m=e(9256),x=e(9464),j=e(1960),P=e(3992);const _=(0,j.w)(10),g=o.memo((s=>{let t=s.posts.map((s=>(0,l.jsx)(h,{message:s.message,likeCount:s.likeCount,id:s.id},s.id)));return(0,l.jsxs)("div",{className:d.myPosts,children:[(0,l.jsx)("h3",{children:"My posts"}),(0,l.jsx)(v,{onSubmit:t=>{s.addPost(t.newPostElement)}}),(0,l.jsx)("div",{className:d.posts,children:t})]})})),v=(0,x.c)({form:"ProfileAddNewPostForm"})((s=>(0,l.jsxs)("form",{className:d.form,onSubmit:s.handleSubmit,children:[(0,l.jsx)(m.c,{component:P.Aj,name:"newPostElement",validate:[j.a,_]}),(0,l.jsx)("button",{className:d.btn,children:"Add post"})]}))),S=g;var b=e(5212),N=e(624);const k=(0,N.Ul)((s=>({posts:s.profilePage.posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:t=>{s((0,b.GO)(t))}})))(S),w=s=>(0,l.jsxs)("div",{className:a,children:[(0,l.jsx)(p,{profile:s.profile,status:s.status,updateStatus:s.updateStatus}),(0,l.jsx)(k,{})]});var A=e(5800),I=e(3460),C=e(5773);class U extends o.Component{componentDidMount(){let s=this.props.router.params.userId;s||(s=this.props.authorizedUserId),this.props.getUserProfile(s),this.props.getStatus(s)}render(){return(0,l.jsx)(w,{...this.props,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})}}const y=(0,C.Jn)((0,N.Ul)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.userId,isAuth:s.auth.isAuth})),{getUserProfile:b.mU,getStatus:b.g3,updateStatus:b.u6}),A.c,I.E)(U)},3460:(s,t,e)=>{e.d(t,{E:()=>l});var o=e(9060),a=e(1560),r=e(624),i=e(2496);const n=s=>({isAuth:s.auth.isAuth}),l=s=>{class t extends o.Component{render(){return this.props.isAuth?(0,i.jsx)(s,{...this.props}):(0,i.jsx)(a.YX,{to:"/login"})}}return(0,r.Ul)(n)(t)}}}]);
//# sourceMappingURL=968.b8e428c8.chunk.js.map